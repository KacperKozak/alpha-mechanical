(this["webpackJsonpalpha-mechanical"]=this["webpackJsonpalpha-mechanical"]||[]).push([[0],{74:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.38810411578245607,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Dor39"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.28558303160312076,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Box","xy":[3,1],"id":"Box37","elevation":0.049378234664961974,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon38","elevation":0.07969811792834165,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[2,2],"id":"Fence39","elevation":0.10059243454204518,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Box","xy":[3,2],"id":"Box40","elevation":0.5083106591965023,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Dor","xy":[5,2],"id":"Dor41","elevation":0.30377694573934266,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[1,3],"id":"BigRock42","elevation":0.1456503959612497,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[3,3],"id":"Fence43","elevation":0.7577709882301507,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Crossbow","xy":[4,3],"id":"Crossbow44","elevation":0.28884023723909485,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[5,3],"id":"BigRock45","elevation":0.15363659613471903,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"WinTrigger","xy":[5,4],"id":"WinTrigger46","elevation":0.5463394688241037,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":0.32936932248244255,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":0.7033990245487725,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":0.8709613216435004,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":0.7767466381391883,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.38810411578245607,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.8585734754017311,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.6466788635904126,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":0.4324318566097185,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.28558303160312076,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.051175163145458,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.049378234664961974,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.14131214453737995,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.07190113654238695,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.1835414053786819,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.8115044983127606,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.07969811792834165,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.10059243454204518,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,2],"id":"RockFloor18","elevation":0.5083106591965023,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.34498042404962037,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.30377694573934266,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.7392868634913139,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.43417832124660105,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.1456503959612497,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.0995528162824757,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.7577709882301507,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.28884023723909485,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.15363659613471903,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.47042464496831804,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.8730802242877826,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0.10774078623609884,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,4],"id":"RockFloor31","elevation":0.28638889334627815,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,4],"id":"RockFloor32","elevation":0.1684067167973644,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.5704229890160826,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,4],"id":"RockFloor34","elevation":0.5463394688241037,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":0.11323935367102211,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}}]')},75:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.7727378891656571,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Dor39"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.004554653802169535,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon37","elevation":0.023719882689449284,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[2,2],"id":"Fence38","elevation":0.14708313636864742,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Dor","xy":[5,2],"id":"Dor39","elevation":0.3073622023667952,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[1,3],"id":"BigRock40","elevation":0.1596364384952699,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[3,3],"id":"Fence41","elevation":0.2732311326578374,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Crossbow","xy":[4,3],"id":"Crossbow42","elevation":0.1741372397351315,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[5,3],"id":"BigRock43","elevation":0.11393828002778424,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":0.5335905367370637,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":0.411947581067307,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":0.709161134922119,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":0.41661526883141176,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.7727378891656571,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.5364905248531244,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.7419039416550426,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":0.052159383337593734,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.004554653802169535,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.051701787493677674,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.23219596521507357,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.10621038331792317,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.10592078811604051,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.03613113643061849,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.5007729401800809,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.023719882689449284,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.14708313636864742,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,2],"id":"RockFloor18","elevation":0.5608467172879572,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.8941847398263449,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.3073622023667952,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.0788738366831967,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.0493754094254204,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.1596364384952699,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.2067872660512223,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.2732311326578374,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.1741372397351315,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.11393828002778424,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.874044805540152,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.6312413658535625,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0.4848617040661092,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,4],"id":"RockFloor31","elevation":0.05352672070686948,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,4],"id":"RockFloor32","elevation":0.4433956082443995,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.9956976225648844,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,4],"id":"RockFloor34","elevation":0.6622566617116046,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":0.5244690371740013,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}}]')},76:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.057662008100778595,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Dor39"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.0629924593893499,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon37","elevation":0.28782596941937344,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RocketProjectile","xy":[2,2],"id":"Fence38","elevation":0.19947571968285946,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Dor","xy":[5,2],"id":"Dor39","elevation":0.17559858324138156,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,3],"id":"BigRock40","elevation":0.27936334627277487,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"CrossbowProjectile","xy":[3,3],"id":"Fence41","elevation":0.9274678182244549,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[4,3],"id":"Crossbow42","elevation":0.13694831892056306,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Ice","xy":[5,3],"id":"BigRock43","elevation":0.156932606871358,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":1,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":2,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":2,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":2,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.057662008100778595,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.2992798136647461,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.06049729182518093,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":1,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.0629924593893499,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.12339617674643606,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.2070882542803735,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.20389319214541235,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.004159705254942321,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.5304743467784285,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.07875049171074644,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.28782596941937344,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.19947571968285946,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[3,2],"id":"RockFloor18","elevation":1,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.15100491717525544,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.17559858324138156,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.06651309658217341,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.20450066852452786,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.27936334627277487,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.2616342603927058,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.9274678182244549,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.13694831892056306,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.156932606871358,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.668162964173683,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.8628015144519006,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0.6460454323369178,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,4],"id":"RockFloor31","elevation":0.35897214732905236,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[3,4],"id":"RockFloor32","elevation":0.3353443439306161,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.8059138035034288,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,4],"id":"RockFloor34","elevation":0.1566933193492437,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":0.5900661227230564,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}}]')},79:function(e,t,a){e.exports=a(90)},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var o,n=a(0),r=a.n(n),i=a(24),c=a.n(i),d=a(23),l=a(25),s=a(67),u=a(97),x=a(98),p=a(5),y=a(16),I=a(99),v=a(50),m=a(94),b=a(92),f=a(93),h=a(73),j=a(78),g=a(100),k=a(95),O=[-2,4,6],R=a(13),F=a(4),z=a(60),E=a.n(z),w=a(68),C=a(7),G=function(e,t){var a=Object(C.a)(e,2),o=a[0],n=a[1],r=Object(C.a)(t,2);return[o+r[0],n+r[1]]},_=function(e,t){return e.find((function(e){return e.id===t}))},S=function(e,t){return e.filter((function(e){return function(e,t){var a=Object(C.a)(e,2),o=a[0],n=a[1],r=Object(C.a)(t,2),i=r[0],c=r[1];return o===i&&n===c}(e.xy,t)}))},q=function(e){return Array.isArray(e)?e:[e]},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(p.a)(e),Object(p.a)(q(t)))},M=a(2);!function(e){e.Player="Player",e.WinTrigger="WinTrigger",e.Grass="Grass",e.RockFloor="RockFloor",e.Box="Box",e.BigRock="BigRock",e.Fence="Fence",e.Button="Button",e.Dor="Dor",e.Ice="Ice",e.Crossbow="Crossbow",e.Cannon="Cannon",e.Boom="Boom",e.CrossbowProjectile="CrossbowProjectile",e.RocketProjectile="RocketProjectile"}(o||(o={}));var P,A,T,N=a(10),L=a(30),D=a(1),J=a(31),U=function(e){return r.a.createElement(W,Object.assign({},e,{url:"fence.gltf"}))},W=function(e){var t=e.url,a=e.instance,o=a.xy,n=a.elevation,i=a.rotation,c=e.castShadow,d=void 0===c||c,l=e.receiveShadow,s=void 0===l||l,u=e.elevationFix,x=void 0===u?0:u,p=Object(J.b)({pos:[o[0],n+x,o[1]],rot:[0,Q(i),0]}),y=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/").concat(t)).scene.clone();return d&&(y.children[0].castShadow=!0),s&&(y.children[0].receiveShadow=!0),y.scale.set(.5,.5,.5),r.a.createElement(J.a.primitive,{object:y,position:p.pos,rotation:p.rot})},H=function(e){var t=e.url,a=e.instance,o=a.xy,n=a.elevation,i=a.rotation,c=a.data,d=e.castShadow,l=void 0===d||d,s=e.receiveShadow,u=void 0===s||s,x=Object(J.b)({pos:[o[0],n,o[1]],rot:[0,Q(i),0]}),p=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/").concat(t));p.scene.scale.set(.5,.5,.5),l&&(p.scene.children[0].castShadow=!0),u&&(p.scene.children[0].receiveShadow=!0);var y=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/animations/boring.gltf")),I=new D.AnimationMixer(y.scene);y.animations.forEach((function(e){I.clipAction(e,p.scene).play()})),Object(N.e)((function(){return I.update(.02)}));var v=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/rakietnica_srednia.gltf")).scene.clone(),m=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/kusza.gltf")).scene.clone();return r.a.createElement(J.a.group,{position:x.pos,rotation:x.rot},r.a.createElement("primitive",{object:p.scene},r.a.createElement("primitive",{object:v,visible:"cannon"==c.gun}),r.a.createElement("primitive",{object:m,visible:"crossbow"==c.gun})))},Y=function(e){var t=e.url,a=e.instance,o=a.xy,n=a.elevation,i=a.rotation,c=(a.data,e.castShadow),d=void 0===c||c,l=e.receiveShadow,s=void 0===l||l,u=Object(J.b)({pos:[o[0],n,o[1]],rot:[0,Q(i),0]}),x=Object(N.f)(L.a,"".concat("/alpha-mechanical","/assets/").concat(t)),p=x.scene.clone();d&&(p.children[0].castShadow=!0),s&&(p.children[0].receiveShadow=!0),p.scale.set(.6,.6,.6);var y=new D.AnimationMixer(p);return x.animations.forEach((function(e,t){var a=y.clipAction(e,p.children[t]);a.setLoop(D.LoopOnce,1),a.play()})),Object(N.e)((function(){y.update(.03)})),r.a.createElement(J.a.group,{position:u.pos,rotation:u.rot},r.a.createElement("primitive",{object:p}))},Q=function(e){return 1===e[0]&&0===e[1]?Math.PI/2:0===e[0]&&-1===e[1]?Math.PI/2*2:-1===e[0]&&0===e[1]?Math.PI/2*3:0===e[0]&&1===e[1]?Math.PI/2*4:0},V=function(e){return function(t){return r.a.createElement("div",Object.assign({style:{width:"100%",height:"100%",backgroundColor:e,fontSize:9}},t))}},X=(P={},Object(M.a)(P,o.Grass,{name:"Grass",height:function(){return 0},Component:V("green"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"grass_002_export_test_1_cube.gltf",castShadow:!1,receiveShadow:!0}))}}),Object(M.a)(P,o.Ice,{name:"Ice",height:function(){return 0},enter:function(e){var t=e.who,a=e.vector;return[Oe({targetId:t.id,vector:a})]},Component:V("lightblue"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"ice_002_export_test_1_cube.gltf",castShadow:!1,receiveShadow:!0}))}}),Object(M.a)(P,o.RockFloor,{name:"Rock floor",height:function(){return 0},push:function(e){e.force;var t=e.self;return console.log(t),[]},Component:V("gray"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"rock.gltf",castShadow:!0,receiveShadow:!0}))}}),P),K={button:"".concat("/alpha-mechanical","/sounds/Button_gameplay.mp3"),music:"".concat("/alpha-mechanical","/sounds/elementary1.mp3"),Alert_NO:"".concat("/alpha-mechanical","/sounds/Alert_NO.mp3"),Alert_YES:"".concat("/alpha-mechanical","/sounds/Alert_YES.mp3"),Bazooka:"".concat("/alpha-mechanical","/sounds/Bazooka.mp3"),Crossbow:"".concat("/alpha-mechanical","/sounds/Crossbow.mp3"),Engine_start:"".concat("/alpha-mechanical","/sounds/Engine_start.mp3"),Engine_LOOP_128:"".concat("/alpha-mechanical","/sounds/Engine_LOOP_128.mp3"),Engine_NO_1:"".concat("/alpha-mechanical","/sounds/Engine_NO_1.mp3"),Engine_NO_2:"".concat("/alpha-mechanical","/sounds/Engine_NO_2.mp3"),Engine_stop:"".concat("/alpha-mechanical","/sounds/Engine_stop.mp3"),Equip_1:"".concat("/alpha-mechanical","/sounds/Equip_1.mp3"),Equip_2:"".concat("/alpha-mechanical","/sounds/Equip_2.mp3"),Equip_3:"".concat("/alpha-mechanical","/sounds/Equip_3.mp3"),Equip_4:"".concat("/alpha-mechanical","/sounds/Equip_4.mp3"),Hero_1:"".concat("/alpha-mechanical","/sounds/Hero_1.mp3"),Hero_2:"".concat("/alpha-mechanical","/sounds/Hero_2.mp3"),Jump:"".concat("/alpha-mechanical","/sounds/Jump.mp3")},Z=function(e,t){var a=new Audio(K[e]);t&&(a.volume=t),a.play()},$=function(e){Z(["Equip_1","Equip_2","Equip_3","Equip_4"][Math.round(4*Math.random())],e)},ee=new Audio(K.Engine_LOOP_128),te=[0,-1],ae=[1,0],oe=[0,1],ne=[-1,0],re=function(e){return function(t){var a=t.instance,n=t.children;return r.a.createElement("div",{style:{margin:"20%",width:"60%",height:"60%",borderRadius:a.type===o.Player?100:5,backgroundColor:e,color:"black",opacity:.7}},r.a.createElement("pre",{style:{padding:2,fontSize:8}},n))}},ie=(A={},Object(M.a)(A,o.Player,{name:"Player",height:function(){return 2},Component:re("white"),Component3d:function(e){return r.a.createElement(H,Object.assign({},e,{url:"robot_model.gltf"}))}}),Object(M.a)(A,o.BigRock,{name:"Big rock",height:function(){return.55},Component:re("gray"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"rock1.gltf"}))}}),Object(M.a)(A,o.Box,{name:"Box",height:function(){return 1},push:function(e){var t=e.self,a=e.vector;return[Oe({targetId:t.id,vector:a})]},Component:re("brown"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"box.gltf"}))}}),Object(M.a)(A,o.Fence,{name:"Fence",height:function(){return 1.5},push:function(e){var t=e.force,a=e.self;return t&&t>=50?[Se(a.id)]:[]},Component:re("brown"),Component3d:U}),Object(M.a)(A,o.Button,{name:"Button",height:function(){return 2},push:function(e){e.state;var t=e.self;if(Z("button"),!t.data.targetId)return console.warn("Missing Button data.targetId"),[];var a=!t.data.open;return[_e({targetId:t.id,data:{open:a}}),_e({targetId:t.data.targetId,data:{open:a}})]},Component:re("blue"),Component3d:U}),Object(M.a)(A,o.WinTrigger,{name:"WinTrigger",height:function(){return 0},enter:function(e){var t=e.who;e.state,e.self;return"player"===t.id?(Z("Engine_start"),[me()]):[]},Component:re("#ABC123"),Component3d:(T="#ABC123",function(e){var t=e.instance,a=t.xy,o=t.elevation,n=t.rotation;return r.a.createElement("mesh",{position:[a[0],o,a[1]],rotation:[0,Q(n),0]},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.5,1,.5]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:T}))})}),Object(M.a)(A,o.Dor,{name:"Dor",height:function(e){return e.data.open?0:1.5},push:function(e){var t=e.force,a=e.self;return t&&t>=50?[Se(a.id)]:[]},Component:re("purple"),Component3d:U}),Object(M.a)(A,o.Cannon,{name:"Cannon",height:function(){return 0},equip:function(e){var t=e.who,a=e.self;return $(.8),[_e({targetId:t.id,data:{gun:"cannon"}}),Se(a.id)]},Component:re("red"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"rakietnica_srednia.gltf",elevationFix:-.8}))}}),Object(M.a)(A,o.Boom,{name:"Boom",height:function(){return 0},Component:re("yellow"),Component3d:function(e){return r.a.createElement(Y,Object.assign({},e,{url:"boom.gltf"}))}}),Object(M.a)(A,o.Crossbow,{name:"Crossbow",height:function(){return 0},equip:function(e){var t=e.who,a=e.self;return $(.8),[_e({targetId:t.id,data:{gun:"crossbow"}}),Se(a.id)]},Component:re("red"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"kusza.gltf",elevationFix:-.8}))}}),Object(M.a)(A,o.RocketProjectile,{name:"RocketProjectile",height:function(){return 0},projectileLaunch:function(e){var t,a=e.who;return Z("Bazooka"),[Oe({targetId:a.id,vector:(t=a.rotation,t.map((function(e){return-1*e})))},{delay:250})]},projectileHit:function(e){var t=e.self,a=e.what;e.who;return a?(Z("Alert_YES"),[Se(t.id),qe({instance:{type:o.Boom,id:Object(y.uniqueId)(),xy:t.xy,elevation:t.elevation,rotation:t.rotation,aIndex:0,zIndex:20,data:{}}})]):[Se(t.id)]},Component:re("yellow"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"rocket.gltf"}))}}),Object(M.a)(A,o.CrossbowProjectile,{name:"Projectile",height:function(){return 0},projectileLaunch:function(e){var t=e.who;return Z("Crossbow"),[Oe({targetId:t.id,vector:[0,0]},{delay:250})]},projectileHit:function(e){var t=e.self,a=e.what;e.who;return a&&Z("Alert_YES"),[Se(t.id)]},Component:re("pink"),Component3d:function(e){return r.a.createElement(W,Object.assign({},e,{url:"arrow.gltf"}))}}),A),ce=Object(F.a)({},X,{},ie),de=function(e){var t=ce[e];if(!t)throw new Error("[getDefinition] Definition for ".concat(e," not found"));return t},le=function(e,t){var a=de(e.type);return e.elevation+a.height(e)>t.elevation},se=function(e){return Math.max.apply(Math,Object(p.a)(e.map((function(e){return de(e.type).height(e)+e.elevation}))))},ue=function(e,t){var a=de(e.type);return e.elevation+a.height(e)-t.elevation>.5},xe={queueStared:!1,queue:[],mapId:null,mapName:null,objects:[],cleanObjectsState:[]},pe=E()("GG"),ye=E()("QUEUE"),Ie=pe("LOAD_MAP"),ve=pe("RESET"),me=pe("WIN"),be=pe("LOSE"),fe=ye("ENQUEUE"),he=ye("TRY_NEXT_ACTION"),je=ye("NEXT_ACTION"),ge=ye("QUEUE_END"),ke=ye("ENQUEUE_AFTER"),Oe=pe("MOVE"),Re=pe("ROTATE"),Fe=pe("EQUIP"),ze=pe("FALL"),Ee=pe("PROJECTILE"),we=pe("FLY"),Ce=pe("FLY_END"),Ge=pe("UPDATE_OBJECT"),_e=pe("SET_OBJECT_DATA"),Se=pe("REMOVE"),qe=pe("TMP_SPAWN"),Be=Object(w.reducerWithInitialState)(xe).case(Ie,(function(e,t){var a=t.id,o=t.name,n=t.objects;return Object(F.a)({},xe,{mapId:a,mapName:o,objects:n,cleanObjectsState:n})})).cases([ve,be],(function(e){return Object(F.a)({},e,{queue:[],queueStared:!1,objects:e.cleanObjectsState,cleanObjectsState:e.cleanObjectsState})})).case(me,(function(e){return Object(F.a)({},xe)})).case(fe,(function(e,t){return Object(F.a)({},e,{queue:B(e.queue,t)})})).case(je,(function(e,t){return Object(F.a)({},e,{queueStared:!0,queue:e.queue.filter((function(e){return e!==t}))})})).case(ge,(function(e){return Object(F.a)({},e,{queueStared:!1})})).case(Oe,(function(e,t){var a=function(e,t,a){var o=e.objects,n=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.push.apply(n,Object(p.a)(q(e)))},i=_(o,t);if(!i)return console.warn("[move] Target ".concat(t," not found")),{objects:o,actions:n};var c=G(i.xy,a),d=S(o,c).sort((function(e,t){return t.aIndex-e.aIndex}));if(!d.length){var l=o.map((function(e){return e!==i?e:Object(F.a)({},e,{xy:c})}));return r([ke({timeout:400,actions:[ze({targetId:t})]}),ke({timeout:800,actions:["player"===t?be():Se(t)]})]),{objects:l,actions:n}}var s,u=Object(R.a)(d);try{for(u.s();!(s=u.n()).done;){var x,y=s.value,I=de(y.type),v={who:i,vector:a,state:e,self:y};if(ue(y,i))return r(null===(x=I.push)||void 0===x?void 0:x.call(I,v)),{objects:o,actions:n}}}catch(k){u.e(k)}finally{u.f()}o=o.map((function(e){return e!==i?e:Object(F.a)({},e,{xy:c,elevation:se(d)})}));var m,b=Object(R.a)(d);try{for(b.s();!(m=b.n()).done;){var f,h=m.value,j=de(h.type),g={who:i,vector:a,state:e,self:h};r(null===(f=j.enter)||void 0===f?void 0:f.call(j,g))}}catch(k){b.e(k)}finally{b.f()}return{objects:o,actions:n}}(e,t.targetId,t.vector),o=a.actions,n=a.objects;return Object(F.a)({},e,{objects:n,queue:B(e.queue,o)})})).case(Re,(function(e,t){var a=function(e,t,a){var o=e.objects,n=_(o,t);return{objects:o.map((function(e){return e!==n?e:Object(F.a)({},e,{rotation:a})})),actions:[]}}(e,t.targetId,t.rotation),o=a.actions,n=a.objects;return Object(F.a)({},e,{objects:n,queue:B(e.queue,o)})})).case(Fe,(function(e,t){var a=t.targetId,o=Me(e,a),n=o.actions,r=o.objects;return Object(F.a)({},e,{objects:r,queue:B(e.queue,n)})})).case(Ee,(function(e,t){var a,o=t.instance,n=t.byId,r=de(o.type),i=[].concat(Object(p.a)(e.objects),[o]),c={who:_(e.objects,n),vector:o.rotation,state:e,self:o},d=(null===(a=r.projectileLaunch)||void 0===a?void 0:a.call(r,c))||[],l=[we({targetId:o.id})].concat(Object(p.a)(d));return Object(F.a)({},e,{objects:i,queue:B(e.queue,l)})})).case(we,(function(e,t){var a=function(e,t){var a=e.objects,o=[],n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.push.apply(o,Object(p.a)(q(e)))},r={objects:a,actions:o},i=_(a,t);if(!i)return console.warn("[move] Target ".concat(t," not found")),r;for(var c=i.rotation,d=i.xy,l=15;l;){l--,d=G(d,c);var s,u=S(a,d).sort((function(e,t){return t.aIndex-e.aIndex})),x=Object(R.a)(u);try{for(x.s();!(s=x.n()).done;){var y,I=s.value,v=de(I.type),m={who:i,vector:c,state:e,self:I,force:100};if(le(I,i))return a=a.map((function(e){return e!==i?e:Object(F.a)({},e,{xy:d})})),n(Ce({targetId:t,hitTargetId:I.id})),n(null===(y=v.push)||void 0===y?void 0:y.call(v,m)),{objects:a,actions:o}}}catch(b){x.e(b)}finally{x.f()}}return n(Ce({targetId:t})),{objects:a=a.map((function(e){return e!==i?e:Object(F.a)({},e,{xy:d})})),actions:o}}(e,t.targetId),o=a.actions,n=a.objects;return Object(F.a)({},e,{objects:n,queue:B(e.queue,o)})})).case(Ce,(function(e,t){var a=t.targetId,o=t.hitTargetId,n=_(e.objects,a),r=o?_(e.objects,o):void 0,i=[];if(n){var c,d=de(n.type),l={who:null,what:r,vector:n.rotation,state:e,self:n},s=(null===(c=d.projectileHit)||void 0===c?void 0:c.call(d,l))||[];i.push.apply(i,Object(p.a)(s))}return Object(F.a)({},e,{queue:B(e.queue,i)})})).case(_e,(function(e,t){var a=t.targetId,o=t.data,n=Pe(e,a,o),r=n.actions,i=n.objects;return Object(F.a)({},e,{objects:i,queue:B(e.queue,r)})})).case(Ge,(function(e,t){var a=t.targetId,o=t.objectValues;return Object(F.a)({},e,{objects:e.objects.map((function(e){return e.id===a?Object(F.a)({},e,{},o):e}))})})).case(ze,(function(e,t){var a=t.targetId;return Object(F.a)({},e,{objects:e.objects.map((function(e){return e.id===a?Object(F.a)({},e,{elevation:-5}):e}))})})).case(Se,(function(e,t){return Object(F.a)({},e,{objects:e.objects.filter((function(e){return e.id!==t}))})})).case(qe,(function(e,t){var a=t.instance;return Object(F.a)({},e,{objects:[].concat(Object(p.a)(e.objects),[a])})})),Me=function(e,t){var a=[],o=_(e.objects,t);if(!o)return{objects:e.objects,actions:[]};var n,r=S(e.objects,o.xy).sort((function(e,t){return t.aIndex-e.aIndex})),i=Object(R.a)(r);try{for(i.s();!(n=i.n()).done;){var c,d=n.value,l=de(d.type),s={who:o,vector:[0,0],state:e,self:d};a.push.apply(a,Object(p.a)((null===(c=l.equip)||void 0===c?void 0:c.call(l,s))||[]))}}catch(u){i.e(u)}finally{i.f()}return{actions:a,objects:e.objects}},Pe=function(e,t,a){var o=e.objects,n=_(o,t);return{objects:o.map((function(e){return e!==n?e:Object(F.a)({},e,{data:Object(F.a)({},e.data,{},a)})})),actions:[]}},Ae=Object(x.a)((function(e,t){return e.pipe(Object(b.a)(fe.match),Object(b.a)((function(){return!t.value.game.queueStared})),Object(f.a)(he()))}),(function(e,t){return e.pipe(Object(b.a)(he.match),Object(h.a)((function(){return Object(y.first)(t.value.game.queue)})),Object(h.a)((function(e){return e?je(e):ge()})))}),(function(e,t){return e.pipe(Object(b.a)(je.match),Object(j.a)((function(e){var t,a=(null===(t=e.payload.meta)||void 0===t?void 0:t.delay)||65;return Object(I.a)(Object(v.a)(e.payload),Object(v.a)(he()).pipe(Object(g.a)(a)))})))}),(function(e,t){return e.pipe(Object(b.a)(ke.match),Object(j.a)((function(e){var t=e.payload;return Object(I.a)(Object(m.a)(t.timeout).pipe(Object(k.a)()),v.a.apply(void 0,Object(p.a)(t.actions.map((function(e){return fe(e)})))))})))}),(function(e,t){return e.pipe(Object(b.a)(qe.match),Object(g.a)(1e3),Object(h.a)((function(e){return Se(e.payload.instance.id)})))})),Te=a(96),Ne=Object(x.a)((function(e){return e.pipe(Object(b.a)(Oe.match),Object(b.a)((function(e){return"player"===e.payload.targetId})),Object(Te.a)((function(){return(e=.1)&&(ee.volume=e),void ee.play();var e})),Object(k.a)())}),(function(e){return e.pipe(Object(b.a)(Fe.match),Object(Te.a)((function(e){return Z("Hero_2",.7)})),Object(k.a)())}),(function(e){return e.pipe(Object(b.a)(be.match),Object(Te.a)((function(e){return Z("Engine_NO_2",.7)})),Object(k.a)())})),Le=Object(u.a)(),De=Object(s.composeWithDevTools)({name:"App"}),Je=Object(l.combineReducers)({game:Be}),Ue=Object(l.createStore)(Je,De(Object(l.applyMiddleware)(Le)));Le.run(Object(x.a)(Ne,Ae));var We=function(){var e=Object(d.c)((function(e){return e.game})),t=Object(n.useState)(!1),a=Object(C.a)(t,2),o=a[0],r=a[1],i=Object(d.b)();return{edit:function(e,t){i(Ge({targetId:e,objectValues:t}))},toggleEditMode:function(){r(!o)},editMode:o,copyMap:function(){var t=JSON.stringify(e.objects);navigator.clipboard.writeText(t).then((function(){console.log("Copied to clipboard")}),console.error)}}},He=function(e,t){Object(n.useEffect)((function(){var a=function(a){a.key===e&&t()};return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}))},Ye=function(e){var t=e.objects,a=Object(n.useState)(),o=Object(C.a)(a,2),i=o[0],c=o[1],d=We(),l=d.edit,s=d.copyMap,u=i&&_(t,i),x=function(e){u&&l(u.id,e)};return r.a.createElement("div",{style:{position:"absolute",zIndex:100,top:0,right:0,width:480,opacity:.8}},r.a.createElement("button",{onClick:s},"Copy map"),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"range",min:-1,max:5,step:.01,value:u.elevation,onChange:function(e){return x({elevation:parseInt(e.target.value,10)})}}),r.a.createElement("select",{value:u.type,onChange:function(e){return x({type:e.target.value})}},Object.keys(ce).map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement("div",{style:{position:"relative"}},t.map((function(e){var t=e.type,a=e.id,o=e.xy,n=(e.rotation,e.elevation,e.zIndex),i=e.data,d=de(t).Component;return r.a.createElement("div",{key:a,style:{position:"absolute",left:60*o[0],top:60*o[1],width:60,height:60,zIndex:n},onClick:function(){return c(a)}},r.a.createElement(d,{instance:e},a," - ",t," ",r.a.createElement("br",null),Object(y.isEmpty)(i)?"":JSON.stringify(i,null,1)))}))))},Qe=function(e){var t=e.objectsList,a=e.mapId,o=Object(N.g)(),i=o.camera,c=o.size;return Object(n.useEffect)((function(){var e=t.map((function(e){return e.xy[0]})),a=t.map((function(e){return e.xy[1]})),o=Math.max.apply(Math,Object(p.a)(e))/2,n=Math.max.apply(Math,Object(p.a)(a))/2,r=O[0]*Math.max(o,n)*7/(c.width/c.height)/.9,d=O[1]*Math.max(o,n)*7/(c.width/c.height)/.9,l=O[2]*Math.max(o,n)*7/(c.width/c.height)/.9;i.position.set(o+r,l,n+d),i.lookAt(o,0,n)}),[a,c]),r.a.createElement("group",null,r.a.createElement("ambientLight",{intensity:2,color:new D.Color("#dbab93")}),r.a.createElement("pointLight",{position:[6,7,8],intensity:2.2,color:new D.Color("#c86b6f"),"shadow-mapSize-Height":"1024","shadow-mapSize-width":"1024","shadow-camera-far":30,"shadow-bias":-.01,castShadow:!0,"shadow-camera-left":-5,"shadow-camera-right":5,"shadow-camera-top":5,"shadow-camera-bottom":-5}),r.a.createElement("pointLight",{position:[1,3,5],intensity:2.2,color:new D.Color("#3a8dc2")}))},Ve=[{id:"map-0",name:"Test 0",objects:a(74)},{id:"map-1",name:"Test 1",objects:a(75)},{id:"map-2",name:"Test 2",objects:a(76)}],Xe=function(){var e=function(){var e=Object(d.c)((function(e){return e.game})),t=Object(d.b)(),a=_(e.objects,"player");a||console.warn("Player don't exists");return Object(F.a)({},e,{player:a,loadMap:function(e){t(Ie(e))},reset:function(){t(ve())},move:function(o){if(!e.queueStared){var n=[];if(!a)return console.warn("Player don't exists");Object(y.isEqual)(a.rotation,o)?n.push(Oe({targetId:a.id,vector:o})):n.push(Re({targetId:a.id,rotation:o})),t(fe(n))}},equip:function(){e.queueStared||t(fe(Fe({targetId:a.id})))},fire:function(){if(!e.queueStared){var n,r=a.id,i=a.xy,c=a.rotation,d=a.elevation,l=a.data;if(null===l||void 0===l?void 0:l.gun)n="cannon"===l.gun?{type:o.RocketProjectile,id:Object(y.uniqueId)(),xy:i,rotation:c,elevation:d+.8,aIndex:100,zIndex:10,data:l}:{type:o.CrossbowProjectile,id:Object(y.uniqueId)(),xy:i,rotation:c,elevation:d+.8,aIndex:100,zIndex:10,data:l},t(fe(Ee({byId:r,instance:n})));else Z("Alert_NO")}}})}(),t=e.objects,a=e.mapId,i=e.mapName,c=e.move,l=e.equip,s=e.fire,u=e.loadMap,x=e.reset,p=We(),I=p.editMode,v=p.toggleEditMode;He("e",v);var m=function(){return c(ne)},b=function(){return c(te)},f=function(){return c(oe)},h=function(){return c(ae)};He("r",x),He("ArrowLeft",m),He("ArrowUp",b),He("ArrowDown",f),He("ArrowRight",h),He("Enter",l),He(" ",s);var j=[0,0];return t.forEach((function(e){e.xy[0]>j[0]&&(j[0]=e.xy[0]),e.xy[1]>j[1]&&(j[1]=e.xy[0])})),j=j.map((function(e){return e/2})),Object(n.useEffect)((function(){u(Ve[0])}),[]),r.a.createElement(r.a.Fragment,null,I&&r.a.createElement(Ye,{objects:t}),r.a.createElement("div",{style:{position:"absolute",zIndex:5,top:0,left:0}},Ve.map((function(e){return r.a.createElement("button",{key:e.id,onClick:function(){return u(e)}},"Map ",e.name)}))),i&&r.a.createElement("div",{style:{position:"absolute",zIndex:5,top:0,right:10}},r.a.createElement("h1",null,"Map: ",i)),r.a.createElement("div",{style:{position:"absolute",zIndex:5,bottom:0,left:0,right:0,textAlign:"center"}},r.a.createElement("button",{onClick:m},r.a.createElement("strong",null,"\u2190")),r.a.createElement("button",{onClick:b},r.a.createElement("strong",null,"\u2191")),r.a.createElement("button",{onClick:f},r.a.createElement("strong",null,"\u2193")),r.a.createElement("button",{onClick:h},r.a.createElement("strong",null,"\u2192")),r.a.createElement("button",{onClick:l},"Equip ",r.a.createElement("small",null,"[enter]")),r.a.createElement("button",{onClick:s},"Fire ",r.a.createElement("small",null,"[space]")),r.a.createElement("button",{onClick:x},"Restart ",r.a.createElement("small",null,"[R]"))),a&&r.a.createElement(N.a,{camera:{zoom:20},onCreated:function(e){e.gl.shadowMap.type=D.PCFSoftShadowMap,e.gl.shadowMap.enabled=!0}},r.a.createElement("group",null,r.a.createElement(Qe,{objectsList:t,mapId:a}),r.a.createElement(n.Suspense,{fallback:r.a.createElement("mesh",null,r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.5,.5,.5]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:"red"}))},t.map((function(e){var t=de(e.type).Component3d;return r.a.createElement(t,{key:e.id,instance:e})}))))))},Ke=function(){return r.a.createElement(d.a,{store:Ue},r.a.createElement(Xe,null))};a(89);c.a.render(r.a.createElement(Ke,null),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.2c9541f3.chunk.js.map