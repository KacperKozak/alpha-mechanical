(this["webpackJsonpalpha-mechanical"]=this["webpackJsonpalpha-mechanical"]||[]).push([[0],{77:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.38810411578245607,"rotation":[-1,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Door41"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.28558303160312076,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Box","xy":[3,1],"id":"Box37","elevation":0.049378234664961974,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon38","elevation":0.07969811792834165,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[2,2],"id":"Fence39","elevation":0.10059243454204518,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Box","xy":[3,2],"id":"Box40","elevation":0.5083106591965023,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Door","xy":[5,2],"id":"Door41","elevation":0.30377694573934266,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Pipe","xy":[1,4],"id":"pipe42","elevation":0,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"PipeElement","xy":[2,3],"id":"pipe40","elevation":0,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"PipePlace","xy":[2,4],"id":"pipe43","elevation":0,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"PipeDown","xy":[3,4],"id":"pipe44","elevation":0,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[3,3],"id":"Fence43","elevation":0.7577709882301507,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Crossbow","xy":[4,3],"id":"Crossbow44","elevation":0.28884023723909485,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[5,3],"id":"BigRock45","elevation":0.15363659613471903,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"WinTrigger","xy":[5,4],"id":"WinTrigger46","elevation":0.5463394688241037,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":0.32936932248244255,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":0.7033990245487725,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":0.8709613216435004,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":0.7767466381391883,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.38810411578245607,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.8585734754017311,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.6466788635904126,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":0.4324318566097185,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.28558303160312076,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.051175163145458,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.049378234664961974,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.14131214453737995,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.07190113654238695,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.1835414053786819,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.8115044983127606,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.07969811792834165,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.10059243454204518,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,2],"id":"RockFloor18","elevation":0.5083106591965023,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.34498042404962037,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.30377694573934266,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.7392868634913139,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.43417832124660105,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.1456503959612497,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.0995528162824757,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.7577709882301507,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.28884023723909485,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.15363659613471903,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.47042464496831804,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.8730802242877826,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,4],"id":"RockFloor31","elevation":0,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,4],"id":"RockFloor32","elevation":0,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.5704229890160826,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,4],"id":"RockFloor34","elevation":0,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":-1,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Water","xy":[6,4],"id":"Water00","elevation":0,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}}]')},78:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.7727378891656571,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Door39"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.004554653802169535,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon37","elevation":0.023719882689449284,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[2,2],"id":"Fence38","elevation":0.14708313636864742,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Door","xy":[5,2],"id":"Door39","elevation":0.3073622023667952,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[1,3],"id":"BigRock40","elevation":0.1596364384952699,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Fence","xy":[3,3],"id":"Fence41","elevation":0.2732311326578374,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Crossbow","xy":[4,3],"id":"Crossbow42","elevation":0.1741372397351315,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"BigRock","xy":[5,3],"id":"BigRock43","elevation":0.11393828002778424,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":0.5335905367370637,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":0.411947581067307,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":0.709161134922119,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":0.41661526883141176,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.7727378891656571,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.5364905248531244,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.7419039416550426,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":0.052159383337593734,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.004554653802169535,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.051701787493677674,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.23219596521507357,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.10621038331792317,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.10592078811604051,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.03613113643061849,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.5007729401800809,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.023719882689449284,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.14708313636864742,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,2],"id":"RockFloor18","elevation":0.5608467172879572,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.8941847398263449,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.3073622023667952,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.0788738366831967,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.0493754094254204,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.1596364384952699,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.2067872660512223,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.2732311326578374,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.1741372397351315,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.11393828002778424,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.874044805540152,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.6312413658535625,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0.4848617040661092,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,4],"id":"RockFloor31","elevation":0.05352672070686948,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,4],"id":"RockFloor32","elevation":0.4433956082443995,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.9956976225648844,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,4],"id":"RockFloor34","elevation":0.6622566617116046,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":0.5244690371740013,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}}]')},79:function(e){e.exports=JSON.parse('[{"type":"Button","xy":[4,0],"id":"Button36","elevation":0.057662008100778595,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{"targetId":"Door39"}},{"type":"Player","xy":[1,1],"id":"player","elevation":0.0629924593893499,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,2],"id":"Cannon37","elevation":0.28782596941937344,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RocketProjectile","xy":[2,2],"id":"Fence38","elevation":0.19947571968285946,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Door","xy":[5,2],"id":"Door39","elevation":0.17559858324138156,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[1,3],"id":"BigRock40","elevation":0.27936334627277487,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"CrossbowProjectile","xy":[3,3],"id":"Fence41","elevation":0.9274678182244549,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Cannon","xy":[4,3],"id":"Crossbow42","elevation":0.13694831892056306,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"Ice","xy":[5,3],"id":"BigRock43","elevation":0.156932606871358,"rotation":[0,0],"zIndex":2,"aIndex":10,"data":{}},{"type":"RockFloor","xy":[0,0],"id":"RockFloor1","elevation":1,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,0],"id":"RockFloor2","elevation":2,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[2,0],"id":"RockFloor3","elevation":2,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,0],"id":"RockFloor4","elevation":2,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,0],"id":"RockFloor5","elevation":0.057662008100778595,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[5,0],"id":"RockFloor6","elevation":0.2992798136647461,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,0],"id":"RockFloor7","elevation":0.06049729182518093,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,1],"id":"RockFloor8","elevation":1,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,1],"id":"Grass9","elevation":0.0629924593893499,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[2,1],"id":"Ice10","elevation":0.12339617674643606,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Ice","xy":[3,1],"id":"Ice11","elevation":0.2070882542803735,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,1],"id":"Grass12","elevation":0.20389319214541235,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,1],"id":"Grass13","elevation":0.004159705254942321,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,1],"id":"RockFloor14","elevation":0.5304743467784285,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,2],"id":"RockFloor15","elevation":0.07875049171074644,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,2],"id":"Grass16","elevation":0.28782596941937344,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,2],"id":"Grass17","elevation":0.19947571968285946,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[3,2],"id":"RockFloor18","elevation":1,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,2],"id":"RockFloor19","elevation":0.15100491717525544,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,2],"id":"Grass20","elevation":0.17559858324138156,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,2],"id":"RockFloor21","elevation":0.06651309658217341,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,3],"id":"RockFloor22","elevation":0.20450066852452786,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[1,3],"id":"Grass23","elevation":0.27936334627277487,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,3],"id":"Grass24","elevation":0.2616342603927058,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[3,3],"id":"RockFloor25","elevation":0.9274678182244549,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[4,3],"id":"Grass26","elevation":0.13694831892056306,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,3],"id":"Grass27","elevation":0.156932606871358,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,3],"id":"RockFloor28","elevation":0.668162964173683,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[0,4],"id":"RockFloor29","elevation":0.8628015144519006,"rotation":[1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[1,4],"id":"RockFloor30","elevation":0.6460454323369178,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[2,4],"id":"RockFloor31","elevation":0.35897214732905236,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[3,4],"id":"RockFloor32","elevation":0.3353443439306161,"rotation":[-1,0],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[4,4],"id":"RockFloor33","elevation":0.8059138035034288,"rotation":[0,-1],"zIndex":1,"aIndex":100,"data":{}},{"type":"Grass","xy":[5,4],"id":"RockFloor34","elevation":0.1566933193492437,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}},{"type":"RockFloor","xy":[6,4],"id":"RockFloor35","elevation":0.5900661227230564,"rotation":[0,1],"zIndex":1,"aIndex":100,"data":{}}]')},84:function(e,t,a){e.exports=a(96)},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),i=a(27),c=a.n(i),d=a(26),l=a(28),u=a(67),s=a(102),p=a(105),x=a(12),y=a(104),f=a(52),v=a(98),m=a(99),b=a(73),I=a(81),h=a(103),j=[-2,4,6],g=a(6),O=a(4),k=a(60),E=a.n(k),R=a(68),F=a(8),z=[0,-1],w=[1,0],C=[0,1],S=[-1,0],G=function(e,t){var a=Object(F.a)(e,2),n=a[0],o=a[1],r=Object(F.a)(t,2);return[n+r[0],o+r[1]]},P=function(e,t){return e.find((function(e){return e.id===t}))},_=function(e,t){return e.filter((function(e){return function(e,t){var a=Object(F.a)(e,2),n=a[0],o=a[1],r=Object(F.a)(t,2),i=r[0],c=r[1];return n===i&&o===c}(e.xy,t)}))},q=function(e){return Array.isArray(e)?e:[e]},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(g.a)(e),Object(g.a)(q(t)))},M=function(e,t,a){return e.map((function(e){return function(e,t,a){return Math.min(a,Math.max(t,e))}(e,t,a)}))},A=function(e,t){return e.map((function(e,a){return t[a]-e}))},T=function(e){return Array.from({length:e+1},(function(e,t){return t}))},D=a(2);!function(e){e.Player="Player",e.WinTrigger="WinTrigger",e.Grass="Grass",e.Water="Water",e.RockFloor="RockFloor",e.Wall="Wall",e.Box="Box",e.BigRock="BigRock",e.Pipe="Pipe",e.PipeLeft="PipeLeft",e.PipeRight="PipeRight",e.PipePlace="PipePlace",e.PipeUp="PipeUp",e.PipeDown="PipeDown",e.PipeElement="PipeElement",e.Fence="Fence",e.Button="Button",e.Door="Door",e.Ice="Ice",e.Crossbow="Crossbow",e.Cannon="Cannon",e.Boom="Boom",e.CrossbowProjectile="CrossbowProjectile",e.RocketProjectile="RocketProjectile"}(n||(n={}));var L,N,W,U=a(5),J=a(10),H=a(1),Y=a(32),V=function(){var e=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/rocket.gltf")),t=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/cannon.gltf")),a=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/box.gltf")),n=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/rock1.gltf")),o=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/fence.gltf")),r=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/arrow.gltf")),i=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/crossbow.gltf")),c=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/graund.gltf")),d=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/wall.gltf")),l=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/grass.gltf")),u=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/water.gltf")),s=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/ice.gltf")),p=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/button.gltf")),x=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/door.gltf")),y=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe.gltf")),f=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-left.gltf")),v=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-right.gltf")),m=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-place.gltf")),b=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-element.gltf")),I=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-down.gltf")),h=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/pipe-down.gltf"));return{rocket:e.scene.clone(),cannon:t.scene.clone(),box:a.scene.clone(),rock:n.scene.clone(),fence:o.scene.clone(),arrow:r.scene.clone(),crossbow:i.scene.clone(),graund:c.scene.clone(),wall:d.scene.clone(),grass:l.scene.clone(),water:u.scene.clone(),ice:s.scene.clone(),button:p.scene.clone(),door:x.scene.clone(),pipe:y.scene.clone(),pipeLeft:f.scene.clone(),pipeRight:v.scene.clone(),pipePlace:m.scene.clone(),pipeElement:b.scene.clone(),pipeUp:I.scene.clone(),pipeDown:h.scene.clone()}},Q=function(){return{boring:Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/animations/boring.gltf")),boom:Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/boom.gltf"))}},X=function(e){var t=e.model,a=e.instance,n=a.xy,o=a.elevation,i=a.rotation,c=a.data,d=e.castShadow,l=void 0===d||d,u=e.receiveShadow,s=void 0===u||u,p=e.elevationFix,x=void 0===p?0:p,y=Object(Y.b)({pos:[n[0],o+x,n[1]],rot:[0,$(i),0]});return l&&t.children.map((function(e){return e.castShadow=!0})),s&&t.children.map((function(e){return e.receiveShadow=!0})),t.scale.set(.5,.5,.5),t.children.length>1&&(c.open&&t.children[1].position.setY(2),c.active&&t.children[1].position.setX(-.2)),r.a.createElement(Y.a.primitive,{object:t,position:y.pos,rotation:y.rot})},K=function(e){var t=e.instance,a=t.xy,n=t.elevation,o=t.rotation,i=t.data,c=e.castShadow,d=void 0===c||c,l=e.receiveShadow,u=void 0===l||l,s=Object(Y.b)({pos:[a[0],n,a[1]],rot:[0,$(o),0]}),p=Object(U.f)(J.a,"".concat("/alpha-mechanical","/assets/robot_model.gltf")).scene;p.scale.set(.5,.5,.5),d&&(p.children[0].castShadow=!0),u&&(p.children[0].receiveShadow=!0);var x=Q().boring,y=new H.AnimationMixer(x.scene);x.animations.forEach((function(e){y.clipAction(e,p).play()})),Object(U.e)((function(){y.update(.02)}));var f=V().cannon,v=V().crossbow;return r.a.createElement(Y.a.group,{position:s.pos,rotation:s.rot},r.a.createElement("primitive",{object:p},r.a.createElement("primitive",{object:f,visible:!!i.hasCannon}),r.a.createElement("primitive",{object:v,visible:!!i.hasGrapple})))},Z=function(e){var t=e.animateModel,a=e.instance,n=a.xy,o=a.elevation,i=a.rotation,c=(a.data,e.castShadow),d=void 0===c||c,l=e.receiveShadow,u=void 0===l||l,s=Object(Y.b)({pos:[n[0],o,n[1]],rot:[0,$(i),0]}),p=t.scene.clone();d&&(p.children[0].castShadow=!0),u&&(p.children[0].receiveShadow=!0),p.scale.set(.6,.6,.6);var x=new H.AnimationMixer(p);return t.animations.forEach((function(e,t){var a=x.clipAction(e,p.children[t]);a.setLoop(H.LoopOnce,1),a.play()})),Object(U.e)((function(){x.update(.03)})),r.a.createElement(Y.a.group,{position:s.pos,rotation:s.rot},r.a.createElement("primitive",{object:p}))},$=function(e){return 1===e[0]&&0===e[1]?Math.PI/2:0===e[0]&&-1===e[1]?Math.PI/2*2:-1===e[0]&&0===e[1]?Math.PI/2*3:0===e[0]&&1===e[1]?Math.PI/2*4:0},ee=(L={},Object(D.a)(L,n.Grass,{name:"Grass",height:function(){return 0},Component3d:function(e){var t=V().grass;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!1,receiveShadow:!0}))}}),Object(D.a)(L,n.Water,{name:"Water",height:function(){return-1},enter:function(e){return"player"===e.who.id?[Ie()]:[]},Component3d:function(e){var t=V().water;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!1,receiveShadow:!0}))}}),Object(D.a)(L,n.Ice,{name:"Ice",height:function(){return 0},enter:function(e){var t=e.who,a=e.vector;return[ke({targetId:t.id,vector:M(a,-1,1)})]},Component3d:function(e){var t=V().ice;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(L,n.RockFloor,{name:"Rock floor",height:function(){return 0},Component3d:function(e){var t=V().graund;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!1,receiveShadow:!0}))}}),Object(D.a)(L,n.Wall,{name:"Wall",height:function(){return 0},Component3d:function(e){var t=V().wall;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!1,receiveShadow:!0}))}}),L),te={button:"".concat("/alpha-mechanical","/sounds/Button_gameplay.mp3"),music:"".concat("/alpha-mechanical","/sounds/elementary1.mp3"),Alert_NO:"".concat("/alpha-mechanical","/sounds/Alert_NO.mp3"),Alert_YES:"".concat("/alpha-mechanical","/sounds/Alert_YES.mp3"),Bazooka:"".concat("/alpha-mechanical","/sounds/Bazooka.mp3"),Crossbow:"".concat("/alpha-mechanical","/sounds/Crossbow.mp3"),Engine_start:"".concat("/alpha-mechanical","/sounds/Engine_start.mp3"),Engine_LOOP_128:"".concat("/alpha-mechanical","/sounds/Engine_LOOP_128.mp3"),Engine_NO_1:"".concat("/alpha-mechanical","/sounds/Engine_NO_1.mp3"),Engine_NO_2:"".concat("/alpha-mechanical","/sounds/Engine_NO_2.mp3"),Engine_stop:"".concat("/alpha-mechanical","/sounds/Engine_stop.mp3"),Equip_1:"".concat("/alpha-mechanical","/sounds/Equip_1.mp3"),Equip_2:"".concat("/alpha-mechanical","/sounds/Equip_2.mp3"),Equip_3:"".concat("/alpha-mechanical","/sounds/Equip_3.mp3"),Equip_4:"".concat("/alpha-mechanical","/sounds/Equip_4.mp3"),Hero_1:"".concat("/alpha-mechanical","/sounds/Hero_1.mp3"),Hero_2:"".concat("/alpha-mechanical","/sounds/Hero_2.mp3"),Jump:"".concat("/alpha-mechanical","/sounds/Jump.mp3")},ae=function(e,t){var a=new Audio(te[e]);a.volume=.5,t&&(a.volume=t/2),a.play()},ne=function(e){ae(["Equip_1","Equip_2","Equip_3","Equip_4"][Math.round(4*Math.random())],e)},oe=new Audio(te.Engine_LOOP_128),re=(N={},Object(D.a)(N,n.Player,{name:"Player",height:function(){return 2},Component3d:function(e){return r.a.createElement(K,e)}}),Object(D.a)(N,n.BigRock,{name:"Big rock",height:function(){return.55},Component3d:function(e){var t=V().rock;return r.a.createElement(X,Object.assign({},e,{model:t}))}}),Object(D.a)(N,n.Pipe,{name:"Pipe",height:function(){return.75},Component3d:function(e){var t=V().pipe;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipeLeft,{name:"PipeLeft",height:function(){return.75},Component3d:function(e){var t=V().pipeLeft;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipeRight,{name:"PipeRight",height:function(){return.75},Component3d:function(e){var t=V().pipeRight;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipeUp,{name:"PipeUp",height:function(){return.75},Component3d:function(e){var t=V().pipeUp;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipeDown,{name:"PipeDown",height:function(){return.75},Component3d:function(e){var t=V().pipeDown;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipeElement,{name:"PipeElement",height:function(){return.75},push:function(e){var t=e.self,a=e.vector;return[ke({targetId:t.id,vector:a})]},Component3d:function(e){var t=V().pipeElement;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.PipePlace,{name:"PipePlace",height:function(){return.14},enter:function(e){var t=e.who;e.state,e.self;return"PipeElement"===t.type?(ae("Engine_start"),[be()]):[]},Component3d:function(e){var t=V().pipePlace;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.Box,{name:"Box",height:function(){return 1},push:function(e){var t=e.self,a=e.vector;return[ke({targetId:t.id,vector:a})]},Component3d:function(e){var t=V().box;return r.a.createElement(X,Object.assign({},e,{model:t}))}}),Object(D.a)(N,n.Fence,{name:"Fence",height:function(){return 1.5},push:function(e){var t=e.force,a=e.self;return t&&t>=50?[_e(a.id)]:[]},Component3d:function(e){var t=V().fence;return r.a.createElement(X,Object.assign({},e,{model:t}))}}),Object(D.a)(N,n.Button,{name:"Button",height:function(){return 2},push:function(e){e.state;var t=e.self;if(ae("button"),!t.data.targetId)return console.warn("Missing Button data.targetId"),[];var a=!t.data.active;return[Pe({targetId:t.id,data:{active:a}}),Pe({targetId:t.data.targetId,data:{open:a}})]},Component3d:function(e){var t=V().button;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.WinTrigger,{name:"WinTrigger",height:function(){return 0},enter:function(e){var t=e.who;e.state,e.self;return"player"===t.id?(ae("Engine_start"),[be()]):[]},Component3d:(W="#ABC123",function(e){var t=e.instance,a=t.xy,n=t.elevation,o=t.rotation;return r.a.createElement("mesh",{position:[a[0],n,a[1]],rotation:[0,$(o),0]},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.5,1,.5]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:W}))})}),Object(D.a)(N,n.Door,{name:"Door",height:function(e){return e.data.open?0:1.5},Component3d:function(e){var t=V().door;return r.a.createElement(X,Object.assign({},e,{model:t,castShadow:!0,receiveShadow:!0}))}}),Object(D.a)(N,n.Cannon,{name:"Cannon",height:function(){return 0},equip:function(e){var t=e.who,a=e.self;return ne(.8),[Pe({targetId:t.id,data:{hasCannon:!0}}),_e(a.id)]},Component3d:function(e){var t=V().cannon;return r.a.createElement(X,Object.assign({},e,{model:t,elevationFix:-.8}))}}),Object(D.a)(N,n.Boom,{name:"Boom",height:function(){return 0},Component3d:function(e){var t=Q().boom;return r.a.createElement(Z,Object.assign({},e,{animateModel:t}))}}),Object(D.a)(N,n.Crossbow,{name:"Crossbow",height:function(){return 0},equip:function(e){var t=e.who,a=e.self;return ne(.8),[Pe({targetId:t.id,data:{hasGrapple:!0}}),_e(a.id)]},Component3d:function(e){var t=V().crossbow;return r.a.createElement(X,Object.assign({},e,{model:t,elevationFix:-.8}))}}),Object(D.a)(N,n.RocketProjectile,{name:"RocketProjectile",height:function(){return 0},projectileLaunch:function(e){var t,a=e.who;return ae("Bazooka"),[ke({targetId:a.id,vector:(t=a.rotation,t.map((function(e){return-1*e})))},{delay:250})]},projectileHit:function(e){var t=e.self,a=e.what;e.who;return a?(ae("Alert_YES"),[_e(t.id),Be({instance:{type:n.Boom,id:Object(x.uniqueId)(),xy:t.xy,elevation:t.elevation,rotation:t.rotation,aIndex:0,zIndex:20,data:{}}})]):[_e(t.id)]},Component3d:function(e){var t=V().rocket;return r.a.createElement(X,Object.assign({},e,{model:t}))}}),Object(D.a)(N,n.CrossbowProjectile,{name:"Projectile",height:function(){return 0},projectileLaunch:function(e){var t=e.who;return ae("Crossbow"),[ke({targetId:t.id,vector:[0,0]},{delay:250})]},projectileHit:function(e){var t=e.self,a=e.what;e.who;return a&&ae("Alert_YES"),[_e(t.id)]},Component3d:function(e){var t=V().arrow;return r.a.createElement(X,Object.assign({},e,{model:t}))}}),N),ie=Object(O.a)({},ee,{},re),ce=function(e){var t=ie[e];if(!t)throw new Error("[getDefinition] Definition for ".concat(e," not found"));return t},de=a(13),le=function(e,t){var a=ce(e.type);return e.elevation+a.height(e)>t.elevation},ue=function(e){return Math.max.apply(Math,Object(g.a)(e.map((function(e){return ce(e.type).height(e)+e.elevation}))))},se=function(e,t){var a=ce(e.type);return e.elevation+a.height(e)-t.elevation>.5},pe=function(e,t){var a=ce(e.type);return e.elevation+a.height(e)>t.elevation+.5},xe={queueStared:!1,queue:[],mapId:null,mapName:null,objects:[],cleanObjectsState:[]},ye=E()("GG"),fe=E()("QUEUE"),ve=ye("LOAD_MAP"),me=ye("RESET"),be=ye("WIN"),Ie=ye("LOSE"),he=fe("ENQUEUE"),je=fe("TRY_NEXT_ACTION"),ge=fe("NEXT_ACTION"),Oe=fe("QUEUE_END"),ke=ye("MOVE"),Ee=ye("ROTATE"),Re=ye("EQUIP"),Fe=ye("FALL"),ze=ye("PROJECTILE"),we=ye("FLY"),Ce=ye("FLY_END"),Se=ye("GRAPPLE"),Ge=ye("UPDATE_OBJECT"),Pe=ye("SET_OBJECT_DATA"),_e=ye("REMOVE"),qe=ye("ADD"),Be=ye("TMP_SPAWN"),Me=Object(R.reducerWithInitialState)(xe).case(ve,(function(e,t){var a=t.id,n=t.name,o=t.objects;return Object(O.a)({},xe,{mapId:a,mapName:n,objects:o,cleanObjectsState:o})})).cases([me,Ie],(function(e){return Object(O.a)({},e,{queue:[],queueStared:!1,objects:e.cleanObjectsState,cleanObjectsState:e.cleanObjectsState})})).case(be,(function(e){return Object(O.a)({},xe)})).case(he,(function(e,t){return Object(O.a)({},e,{queue:B(e.queue,t)})})).case(ge,(function(e,t){return Object(O.a)({},e,{queueStared:!0,queue:e.queue.filter((function(e){return e!==t}))})})).case(Oe,(function(e){return Object(O.a)({},e,{queueStared:!1})})).case(ke,(function(e,t){var a=function(e,t,a){var n=e.objects,o=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.push.apply(o,Object(g.a)(q(e)))},i=P(n,t);if(!i)return console.warn("[move] Target ".concat(t," not found")),{objects:n,actions:o};var c=G(i.xy,a),d=_(n,c).sort((function(e,t){return t.aIndex-e.aIndex}));if(!d.length)return r([Ge({targetId:t,objectValues:{xy:c}},{delay:400}),Fe({targetId:t},{delay:800}),"player"===t?Ie():_e(t)]),{objects:n,actions:o};var l,u=Object(de.a)(d);try{for(u.s();!(l=u.n()).done;){var s,p=l.value,x=ce(p.type),y={who:i,vector:a,state:e,self:p};if(se(p,i))return r(null===(s=x.push)||void 0===s?void 0:s.call(x,y)),{objects:n,actions:o}}}catch(j){u.e(j)}finally{u.f()}n=n.map((function(e){return e!==i?e:Object(O.a)({},e,{xy:c,elevation:ue(d)})}));var f,v=Object(de.a)(d);try{for(v.s();!(f=v.n()).done;){var m,b=f.value,I=ce(b.type),h={who:i,vector:a,state:e,self:b};r(null===(m=I.enter)||void 0===m?void 0:m.call(I,h))}}catch(j){v.e(j)}finally{v.f()}return{objects:n,actions:o}}(e,t.targetId,t.vector),n=a.actions,o=a.objects;return Object(O.a)({},e,{objects:o,queue:B(e.queue,n)})})).case(Ee,(function(e,t){var a=function(e,t,a){var n=e.objects,o=P(n,t);return{objects:n.map((function(e){return e!==o?e:Object(O.a)({},e,{rotation:a})})),actions:[]}}(e,t.targetId,t.rotation),n=a.actions,o=a.objects;return Object(O.a)({},e,{objects:o,queue:B(e.queue,n)})})).case(Re,(function(e,t){var a=function(e,t){var a=[],n=P(e.objects,t);if(!n)return{objects:e.objects,actions:[]};var o,r=_(e.objects,n.xy).sort((function(e,t){return t.aIndex-e.aIndex})),i=Object(de.a)(r);try{for(i.s();!(o=i.n()).done;){var c,d=o.value,l=ce(d.type),u={who:n,vector:[0,0],state:e,self:d};a.push.apply(a,Object(g.a)((null===(c=l.equip)||void 0===c?void 0:c.call(l,u))||[]))}}catch(s){i.e(s)}finally{i.f()}return{actions:a,objects:e.objects}}(e,t.targetId),n=a.actions,o=a.objects;return Object(O.a)({},e,{objects:o,queue:B(e.queue,n)})})).case(ze,(function(e,t){var a,n=t.instance,o=t.byId,r=ce(n.type),i=[].concat(Object(g.a)(e.objects),[n]),c={who:P(e.objects,o),vector:n.rotation,state:e,self:n},d=(null===(a=r.projectileLaunch)||void 0===a?void 0:a.call(r,c))||[],l=[we({targetId:n.id})].concat(Object(g.a)(d));return Object(O.a)({},e,{objects:i,queue:B(e.queue,l)})})).case(we,(function(e,t){var a=function(e,t){var a=e.objects,n=[],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.push.apply(n,Object(g.a)(q(e)))},r={objects:a,actions:n},i=P(a,t);if(!i)return console.warn("[move] Target ".concat(t," not found")),r;for(var c=i.rotation,d=i.xy,l=15;l;){l--,d=G(d,c);var u,s=_(a,d).sort((function(e,t){return t.aIndex-e.aIndex})),p=Object(de.a)(s);try{for(p.s();!(u=p.n()).done;){var x,y=u.value,f=ce(y.type),v={who:i,vector:c,state:e,self:y,force:100};if(le(y,i))return a=a.map((function(e){return e!==i?e:Object(O.a)({},e,{xy:d})})),o(Ce({targetId:t,hitTargetId:y.id})),o(null===(x=f.push)||void 0===x?void 0:x.call(f,v)),{objects:a,actions:n}}}catch(m){p.e(m)}finally{p.f()}}return o(Ce({targetId:t})),{objects:a=a.map((function(e){return e!==i?e:Object(O.a)({},e,{xy:d})})),actions:n}}(e,t.targetId),n=a.actions,o=a.objects;return Object(O.a)({},e,{objects:o,queue:B(e.queue,n)})})).case(Ce,(function(e,t){var a=t.targetId,n=t.hitTargetId,o=P(e.objects,a),r=n?P(e.objects,n):void 0,i=[];if(o){var c,d=ce(o.type),l={who:null,what:r,vector:o.rotation,state:e,self:o},u=(null===(c=d.projectileHit)||void 0===c?void 0:c.call(d,l))||[];i.push.apply(i,Object(g.a)(u))}return Object(O.a)({},e,{queue:B(e.queue,i)})})).case(Se,(function(e,t){var a=function(e,t){var a=e.objects,o=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.push.apply(o,Object(g.a)(q(e)))},i={objects:a,actions:o},c=P(a,t);if(!c)return console.warn("[grappleResolver] Target ".concat(t," not found")),i;for(var d={type:n.CrossbowProjectile,id:Object(x.uniqueId)(),xy:c.xy,rotation:c.rotation,elevation:c.elevation+.8,aIndex:100,zIndex:10,data:{}},l=c.rotation,u=c.xy,s=5;s;){s--;var p=u;u=G(u,l);var y,f=_(a,u).sort((function(e,t){return t.aIndex-e.aIndex})),v=Object(de.a)(f);try{for(v.s();!(y=v.n()).done;){var m=y.value;if(pe(m,c))return r(Be({instance:d})),r(Ge({targetId:d.id,objectValues:{xy:u}},{delay:300})),r(ke({targetId:t,vector:A(c.xy,p)})),{objects:a,actions:o}}}catch(b){v.e(b)}finally{v.f()}}return i}(e,t.targetId),o=a.actions,r=a.objects;return Object(O.a)({},e,{objects:r,queue:B(e.queue,o)})})).case(Pe,(function(e,t){var a=t.targetId,n=t.data,o=P(e.objects,a);return Object(O.a)({},e,{objects:e.objects.map((function(e){return e!==o?e:Object(O.a)({},e,{data:Object(O.a)({},e.data,{},n)})}))})})).case(Ge,(function(e,t){var a=t.targetId,n=t.objectValues;return Object(O.a)({},e,{objects:e.objects.map((function(e){return e.id===a?Object(O.a)({},e,{},n):e}))})})).case(_e,(function(e,t){return Object(O.a)({},e,{objects:e.objects.filter((function(e){return e.id!==t}))})})).case(qe,(function(e,t){return Object(O.a)({},e,{objects:B(e.objects,t)})})).case(Be,(function(e,t){var a=t.instance;return Object(O.a)({},e,{objects:[].concat(Object(g.a)(e.objects),[a])})})).case(Fe,(function(e,t){var a=t.targetId;return Object(O.a)({},e,{objects:e.objects.map((function(e){return e.id===a?Object(O.a)({},e,{elevation:-5}):e}))})})),Ae=Object(p.a)((function(e,t){return e.pipe(Object(v.a)(he.match),Object(v.a)((function(){return!t.value.game.queueStared})),Object(m.a)(je()))}),(function(e,t){return e.pipe(Object(v.a)(je.match),Object(b.a)((function(){return Object(x.first)(t.value.game.queue)})),Object(b.a)((function(e){return e?ge(e):Oe()})))}),(function(e,t){return e.pipe(Object(v.a)(ge.match),Object(I.a)((function(e){var t,a=(null===(t=e.payload.meta)||void 0===t?void 0:t.delay)||65;return Object(y.a)(Object(f.a)(e.payload),Object(f.a)(je()).pipe(Object(h.a)(a)))})))}),(function(e,t){return e.pipe(Object(v.a)(Be.match),Object(h.a)(600),Object(b.a)((function(e){return _e(e.payload.instance.id)})))})),Te=a(100),De=a(101),Le=Object(p.a)((function(e){return e.pipe(Object(v.a)(ke.match),Object(v.a)((function(e){return"player"===e.payload.targetId})),Object(Te.a)((function(){return(e=.1)&&(oe.volume=e),void oe.play();var e})),Object(De.a)())}),(function(e){return e.pipe(Object(v.a)(Re.match),Object(Te.a)((function(e){return ae("Hero_2",.7)})),Object(De.a)())}),(function(e){return e.pipe(Object(v.a)(Ie.match),Object(Te.a)((function(e){return ae("Engine_NO_2",.7)})),Object(De.a)())}),(function(e){return e.pipe(Object(v.a)(Se.match),Object(Te.a)((function(e){return ae("Crossbow",.7)})),Object(De.a)())})),Ne=Object(s.a)(),We=Object(u.composeWithDevTools)({name:"App"}),Ue=Object(l.combineReducers)({game:Me}),Je=Object(l.createStore)(Ue,We(Object(l.applyMiddleware)(Ne)));Ne.run(Object(p.a)(Le,Ae));var He=a(82),Ye=function(){var e=Object(d.c)((function(e){return e.game})),t=Object(o.useState)(!1),a=Object(F.a)(t,2),r=a[0],i=a[1],c=Object(d.b)();return{update:function(e){return function(t){c(Ge({targetId:e,objectValues:t}))}},add:function(e){var t=e.type,a=void 0===t?n.Grass:t,o=(Object(He.a)(e,["type"]),Object(O.a)({type:a,id:e.id||Object(x.uniqueId)(a+"-"),xy:[0,0],rotation:Object(x.sample)([z,S,w,C]),zIndex:0,aIndex:0,data:{},elevation:0},e));c(qe(o))},remove:function(e){c(_e(e))},toggleEditMode:function(){i(!r)},editMode:r,copyMap:function(){var t=JSON.stringify(e.objects);navigator.clipboard.writeText(t).then((function(){console.log("Copied to clipboard")}),console.error)}}},Ve=function(e,t){Object(o.useEffect)((function(){var a=function(a){a.key===e&&t()};return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}))},Qe=a(22),Xe=a(23);function Ke(){var e=Object(Qe.a)(["\n    margin-right: 5px;\n    cursor: pointer;\n    ",";\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(Qe.a)(["\n    width: ","px;\n    min-height: ","px;\n    border: 1px solid #333;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(Qe.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    cursor: pointer;\n    &::after {\n        content: '\u274c';\n    }\n"]);return $e=function(){return e},e}function et(){var e=Object(Qe.a)(["\n    position: relative;\n    background: #333;\n    padding: 7px 10px;\n    margin: 4px;\n    pre {\n        font-size: 10px;\n    }\n"]);return et=function(){return e},e}function tt(){var e=Object(Qe.a)(["\n    width: ","px;\n    min-height: ","px;\n    border: 1px solid #333;\n"]);return tt=function(){return e},e}function at(){var e=Object(Qe.a)(["\n    display: flex;\n"]);return at=function(){return e},e}function nt(){var e=Object(Qe.a)(["\n    border: 1px solid #333;\n    font-size: 12px;\n"]);return nt=function(){return e},e}function ot(){var e=Object(Qe.a)(["\n    position: absolute;\n    z-index: 100;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    opacity: 0.8;\n    background-color: black;\n    overflow: auto;\n"]);return ot=function(){return e},e}var rt=function(e){var t=e.objects,a=Ye().copyMap;return r.a.createElement(it,null,r.a.createElement("button",{onClick:a},"Copy map"),r.a.createElement(ct,null,T(10).map((function(e){return r.a.createElement(dt,{key:e},T(10).map((function(a){return r.a.createElement(lt,{key:a,objects:_(t,[a,e]),xy:[a,e]})})))}))))},it=Xe.a.div(ot()),ct=Xe.a.div(nt()),dt=Xe.a.div(at()),lt=function(e){var t=e.objects,a=e.xy,i=Object(o.useState)(!1),c=Object(F.a)(i,2),d=c[0],l=c[1],u=Ye(),s=u.update,p=u.add,y=u.remove,f=(u.copyMap,function(){return p({type:n.RockFloor,xy:a})});return d?r.a.createElement(xt,null,t.map((function(e){return r.a.createElement(st,{key:e.id},r.a.createElement(pt,{onClick:function(){return y(e.id)}}),r.a.createElement(yt,{obj:e,field:"id",onChange:s(e.id)}),r.a.createElement(vt,{obj:e,onChange:s(e.id)}),r.a.createElement(mt,{obj:e,onChange:s(e.id)}),r.a.createElement(bt,{obj:e,onChange:s(e.id)}),"zIndex:",r.a.createElement(ft,{obj:e,field:"zIndex",onChange:s(e.id)}),"aIndex:",r.a.createElement(ft,{obj:e,field:"aIndex",onChange:s(e.id)}),!Object(x.isEmpty)(e.data)&&r.a.createElement("pre",null,JSON.stringify(e.data,null,1)))})),r.a.createElement("button",{onClick:f},"+"),r.a.createElement("button",{onClick:function(){return l(!1)}},"Close")):r.a.createElement(ut,{onClick:function(){l(!0),t.length||f()}},t.map((function(e){return r.a.createElement(st,{key:e.id},r.a.createElement("strong",null,e.type)," - ",r.a.createElement("small",null,e.id),!Object(x.isEmpty)(e.data)&&r.a.createElement("pre",null,JSON.stringify(e.data,null,1)))})))},ut=Xe.a.div(tt(),150,150),st=Xe.a.div(et()),pt=Xe.a.div($e()),xt=Xe.a.div(Ze(),225,150),yt=function(e){var t=e.obj,a=e.field,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("input",{value:t[a],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(Object(D.a)({},a,e.target.value))}))}))},ft=function(e){var t=e.obj,a=e.field,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("input",{type:"number",value:t[a],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(Object(D.a)({},a,parseInt(e.target.value,10)))}))}))},vt=function(e){var t=e.obj,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("select",{value:t.type,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a({type:e.target.value})}))},Object.keys(ie).map((function(e){return r.a.createElement("option",null,e)}))))},mt=function(e){var t=e.obj,a=e.onChange,n=100;return r.a.createElement("div",null,r.a.createElement("input",{type:"range",min:-100,max:1e3,value:t.elevation*n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a({elevation:parseInt(e.target.value,10)/n})}))}),Math.round(10*t.elevation)/10)},bt=function(e){var t=e.obj,a=e.onChange;return r.a.createElement("div",null,r.a.createElement(It,{obj:t,label:"UP",rotation:z,onChange:a}),r.a.createElement(It,{obj:t,label:"RIGHT",rotation:w,onChange:a}),r.a.createElement(It,{obj:t,label:"DOWN",rotation:C,onChange:a}),r.a.createElement(It,{obj:t,label:"LEFT",rotation:S,onChange:a}))},It=function(e){var t=e.obj,a=e.onChange,n=e.rotation,o=e.label;return r.a.createElement(ht,{active:Object(x.isEqual)(t.rotation,n),onClick:function(){return a({rotation:n})}},o)},ht=Xe.a.span(Ke(),(function(e){return e.active&&"font-weight: bold;"})),jt=function(e){var t=e.objectsList,a=e.mapId,n=Object(U.g)(),i=n.camera,c=n.size;return Object(o.useEffect)((function(){var e=t.map((function(e){return e.xy[0]})),a=t.map((function(e){return e.xy[1]})),n=Math.max.apply(Math,Object(g.a)(e))/2,o=Math.max.apply(Math,Object(g.a)(a))/2,r=j[0]*Math.max(n,o)*7/(c.width/c.height)/.9,d=j[1]*Math.max(n,o)*7/(c.width/c.height)/.9,l=j[2]*Math.max(n,o)*7/(c.width/c.height)/.9;i.position.set(n+r,l,o+d),i.lookAt(n,0,o)}),[a,c]),r.a.createElement("group",null,r.a.createElement("ambientLight",{intensity:2,color:new H.Color("#dbab93")}),r.a.createElement("pointLight",{position:[6,7,8],intensity:2.2,color:new H.Color("#c86b6f"),"shadow-mapSize-Height":"1024","shadow-mapSize-width":"1024","shadow-camera-far":30,"shadow-bias":-.01,castShadow:!0,"shadow-camera-left":-5,"shadow-camera-right":5,"shadow-camera-top":5,"shadow-camera-bottom":-5}),r.a.createElement("pointLight",{position:[1,3,5],intensity:2.2,color:new H.Color("#3a8dc2")}))},gt=[{id:"map-0",name:"Test 0",objects:a(77)},{id:"map-1",name:"Test 1",objects:a(78)},{id:"map-2",name:"Test 2",objects:a(79)}],Ot=function(){var e=function(){var e=Object(d.c)((function(e){return e.game})),t=Object(d.b)(),a=P(e.objects,"player");a||console.warn("Player don't exists");return Object(O.a)({},e,{player:a,loadMap:function(e){t(ve(e))},reset:function(){t(me())},move:function(n){if(!e.queueStared){var o=[];if(!a)return console.warn("Player don't exists");Object(x.isEqual)(a.rotation,n)?o.push(ke({targetId:a.id,vector:n})):o.push(Ee({targetId:a.id,rotation:n})),t(he(o))}},equip:function(){e.queueStared||t(he(Re({targetId:a.id})))},fire:function(){if(!e.queueStared){var o=a.id,r=a.xy,i=a.rotation,c=a.elevation,d=a.data;if(d.hasCannon){var l={type:n.RocketProjectile,id:Object(x.uniqueId)(),xy:r,rotation:i,elevation:c+.8,aIndex:100,zIndex:10,data:d};t(he(ze({byId:o,instance:l})))}else ae("Alert_NO")}},grapple:function(){e.queueStared||(a.data.hasGrapple?t(he(Se({targetId:a.id}))):ae("Alert_NO"))}})}(),t=e.objects,a=e.mapId,i=e.mapName,c=e.move,l=e.equip,u=e.grapple,s=e.fire,p=e.loadMap,y=e.reset,f=Ye(),v=f.editMode,m=f.toggleEditMode;Ve("e",m);var b=function(){return c(S)},I=function(){return c(z)},h=function(){return c(C)},j=function(){return c(w)};Ve("r",y),Ve("ArrowLeft",b),Ve("ArrowUp",I),Ve("ArrowDown",h),Ve("ArrowRight",j),Ve("Enter",l),Ve("Shift",u),Ve(" ",s);var g=[0,0];return t.forEach((function(e){e.xy[0]>g[0]&&(g[0]=e.xy[0]),e.xy[1]>g[1]&&(g[1]=e.xy[0])})),g=g.map((function(e){return e/2})),Object(o.useEffect)((function(){p(gt[0])}),[]),r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(rt,{objects:t}),r.a.createElement("div",{style:{position:"absolute",zIndex:5,top:0,left:0}},gt.map((function(e){return r.a.createElement("button",{key:e.id,onClick:function(){return p(e)}},"Map ",e.name)}))),i&&r.a.createElement("div",{style:{position:"absolute",zIndex:5,top:0,right:10}},r.a.createElement("h1",null,"Map: ",i)),r.a.createElement("div",{style:{position:"absolute",zIndex:5,bottom:0,left:0,right:0,textAlign:"center"}},r.a.createElement("button",{onClick:b},r.a.createElement("strong",null,"\u2190")),r.a.createElement("button",{onClick:I},r.a.createElement("strong",null,"\u2191")),r.a.createElement("button",{onClick:h},r.a.createElement("strong",null,"\u2193")),r.a.createElement("button",{onClick:j},r.a.createElement("strong",null,"\u2192")),r.a.createElement("button",{onClick:l},"Equip ",r.a.createElement("small",null,"[enter]")),r.a.createElement("button",{onClick:u},"Grapple ",r.a.createElement("small",null,"[shift]")),r.a.createElement("button",{onClick:s},"Fire ",r.a.createElement("small",null,"[space]")),r.a.createElement("button",{onClick:y},"Restart ",r.a.createElement("small",null,"[R]"))),a&&r.a.createElement(U.a,{camera:{zoom:20},onCreated:function(e){e.gl.shadowMap.type=H.PCFSoftShadowMap,e.gl.shadowMap.enabled=!0}},r.a.createElement("group",null,r.a.createElement(jt,{objectsList:t,mapId:a}),r.a.createElement(o.Suspense,{fallback:r.a.createElement("mesh",null,r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.5,.5,.5]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:"red"}))},t.map((function(e){var t=ce(e.type).Component3d;return r.a.createElement(t,{key:e.id,instance:e})}))))))},kt=function(){return r.a.createElement(d.a,{store:Je},r.a.createElement(Ot,null))};a(95);c.a.render(r.a.createElement(kt,null),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.37e4fcde.chunk.js.map